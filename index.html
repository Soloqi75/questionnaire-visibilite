<!DOCTYPE html>
<html>
<head>
    <title>Questionnaire Visibilité</title>
</head>
<body>
    <h2>Formulaire de Visibilité</h2>
    <form id="visibilityForm">
        <label>Logo :</label>
        <select name="logo">
            <option value="oui">Oui</option>
            <option value="non">Non</option>
            <option value="trop tôt">Trop tôt</option>
        </select><br><br>

        <label>Justificatif envoyé ? :</label>
        <select name="justificatif">
            <option value="oui">Oui</option>
            <option value="non">Non</option>
            <option value="trop tôt">Trop tôt</option>
        </select><br><br>

        <label>Places offertes ? :</label>
        <select name="places">
            <option value="oui">Oui</option>
            <option value="non">Non</option>
            <option value="trop tôt">Trop tôt</option>
        </select><br><br>

        <label>Combien ? :</label>
        <input type="number" name="combien"><br><br>

        <button type="submit">Envoyer</button>
    </form>

    <script>
        document.getElementById("visibilityForm").addEventListener("submit", function(event) {
            event.preventDefault();

            let formData = {
                logo: document.querySelector('[name="logo"]').value,
                justificatif: document.querySelector('[name="justificatif"]').value,
                places: document.querySelector('[name="places"]').value,
                combien: document.querySelector('[name="combien"]').value
            };

            fetch("https://prod-123.westeurope.logic.azure.com:443/workflows/d4203fbb0c1742f0954bb32a0a787cf9/triggers/manual/paths/invoke?api-version=2016-06-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=kPnbhDVFnej3e4PeTWlOFPDxI-kNV93jA9Kw2wbEoW0", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(formData)
            })
            .then(response => response.json())
            .then(data => {
                alert("Formulaire envoyé avec succès !");
            })
            .catch(error => {
                console.error("Erreur lors de l'envoi :", error);
                alert("Erreur lors de l'envoi.");
            });
        });
    </script>
</body>
</html>
